var t=function(t){if(Array.isArray(t))return t};var e=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(n=(c=a.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}};var r=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")};var n=function(n,o){return t(n)||e(n,o)||r()};var o=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e})),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.headers,r=void 0===e?{}:e,n=(t.body,t.method),i=void 0===n?"get":n,c=t.auth;"undefined"==typeof Headers&&require("cross-fetch/polyfill");var a=new Headers(r);if(a.get("content-type")||"get"===i||a.set("content-type","application/json"),c)if("object"===o(c)){var u,s=c.username,f=c.password;if(!s)throw new Error("Username required for basic authentication");if(!f)throw new Error("Password required for basic authentication");u="btoa"in window?btoa:require("btoa"),a.set("Authorization","Basic "+u("".concat(s,":").concat(f)))}else a.set("Authorization","Bearer ".concat(c));return a},c=function(t){if(t)return Object.entries(t).reduce((function(t,e,r){var o=n(e,2),i=o[0],c=o[1],a=0===r?"".concat(i,"=").concat(encodeURIComponent(c)):"&".concat(i,"=").concat(encodeURIComponent(c));return"".concat(t).concat(a)}),"")},a=function(t){var e=t.url,r=t.queries;return r?"".concat(e,"?").concat(c(r)):e},u=function(t){if("get"!==t.method){var e=t.headers.get("content-type");if(e)return e.includes("x-www-form-urlencoded")?c(t.body):e.includes("json")?JSON.stringify(t.body):t.body}},s=function(t){return t.headers.entries?function(t){var e={},r=!0,o=!1,i=void 0;try{for(var c,a=t.headers.entries()[Symbol.iterator]();!(r=(c=a.next()).done);r=!0){var u=n(c.value,2),s=u[0],f=u[1];e[s]=f}}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return e}(t):function(t){var e={},r=t.headers._headers;for(var n in r)e[n]=r[n].join("");return e}(t)},f=function(t,e){var r=("function"==typeof t.clone?t.clone():void 0)||t;return t[e]().then((function(t){return function(t,e){var r={body:e,headers:s(t),response:t,status:t.status,statusText:t.statusText};return t.ok?Promise.resolve(r):Promise.reject(r)}(r,t)}))},l=function(t){var e=t.headers.get("content-type");if(e.includes("json"))return f(t,"json");if(e.includes("text"))return f(t,"text");if(e.includes("image"))return f(t,"blob");throw new Error("zlFetch does not support content-type ".concat(e," yet"))},d=function(t){return"Failed to fetch"===t.message?Promise.reject({error:t}):Promise.reject(t)};"undefined"==typeof fetch&&require("cross-fetch/polyfill");for(var y=function(t,e){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},t);return e.url=a(e),e.method=e.method||"get",e.headers=i(e),e.body=u(e),delete e.auth,e}(Object.assign({url:t},e));return fetch(r.url,r).then(l).catch(d)},h=function(){var t=v[p];y[t]=function(e,r){return r=Object.assign({method:t},r),y(e,r)}},p=0,v=["get","post","put","patch","delete"];p<v.length;p++)h();export default y;
